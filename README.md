# Введение
Цель проекта: Построение рекомендательной системы, способной обрабатывать как холодный старт, так и динамическое добавление новых фильмов и пользователей.

# Основные задачи:

1. Холодный старт. Юзер новый и хочет рекомендаций- Юзер выбирает жанр и мы выдаем топ -5 по populatiry (в соответствии с жанром). 
2. Юзер посмотрел несоклько фильмов - подбираем похожий фильм (жанр, и тэги с учетом их весов (relevance)).  Предусмотреть динамическое добавление фильмов
3. Юзер посмотрел несколько фильмов и поставил рейтинг менее 5 раз но больше 0. Или более 5 раз, но положительных (3 и ниже) менее 3. Предусмотреть динамическое добавление фильмов
4. Юзер Поставил рейтинг 5+раз  - подбираем рекомендации ( в соответвии с его рейтингами). Выдаем рекомендации по кластеризированному user-vector. Предусмотреть динамическое добавление пользователей
5. Предусмотреть продвижение/блокировку фильмов.

# 2. Описание методов

Часть 1.

1. Холодный старт. Расчитываем средневзвешенную популярность фильма и выдаем (основная задача 1)
2. Подготовка данных для контента (movies_vector)  
    - Собираем вектор
    - Нормализуем  сохраняя scaler
    - Понижаем размерность сохраняя encoder
    - Создаем модель (KMeans))
4. Создаем функцию рекомендации по кластеризированным данным с выводом расчетных расстояний (для презентационной части)  (основная задача 2)
5. Оффлайн тестирование
6. Создаем функцию продвижение/блокировку фильмов (создаем спец датасет с этими данными и фильтруем на этапе выдачи рекомендаций. Блокированные фильмы просто не выдаем. Продвигаемые - выдаем отдельно с пометкой "Специальное предложение!!".)  (основная задача 5)

Часть 2.

7. Создаем матрицу взаимодействий.  
8. с помощью Implicit ALS получаем из матрицы взаимодействий item_factors.
   - обрезаем его по размеру movies_vector(т.к фильмов с тэгами сущетсвено меньше чем фильмов вообще)
9. Готовим чистый контент вектор
10. Объединяем item_factors с movies_vector 
    - Понижаем размерность сохраняя encoder
    - Создаем модель (KMeans))
11. Оффлайн тестирование

12. Создаем функцию динамического добавления фильма:   
    - добавляем фильм в датасет movies
    - добавляем фильм в датасет ratings с нулевым рейтингом
    - формируем вектор фильма для movies
    - формируем вектор фильма для item_factors
    - Объединяем item_factors с movies_vector  для конкретного фильма и
    - Применяем scaler.transform(), пропускаем через encoder.predict(), отправляем в KMeans.predict()

Часть 3.

13. Понижаем размерность матрицы взаимодействий encoder-ом (реалзиованно)
    -  Создаем модель (KMeans)  (реализованно)
    -  Создаем функцию рекомендации по кластеризированным данным с выводом расчетных расстояний (для презентационной части)  (основная задача 5)
14. Оффлайн тестирование
15. Создаем функцию динамического добавления пользователя:  
    - добавляем пользователя в датасет ratings 
    - пропускаем через encoder.predict(), отправляем в KMeans.
